<style type="text/css">
    .layout-custom {
        border: none;
        padding: 20px;
        margin-right: -15px;
        margin-left: -15px;
        background-color: #f5f5f5;
        min-height: calc(100vh + 110px);
    }
    .panel-body + .panel-body, .panel-body + .table, .panel-body + .table-responsive, .panel-body.has-top-border {
        border-top: 1px solid #ddd;
    }

    .panel[class*=bg-] > .panel-heading {
        border-color: rgba(255,255,255,.2);
    }

    .panel-body-accent {
        background-color: #fcfcfc;
    }

    .no-margin {
        margin: 0 !important;
    }

    .bg-green {
        background-color: #8bc34a;
        color: #fff;
    }

    .bg-orange {
        background-color: #ff9800;
        color: #fff;
    }

    .bg-danger-400 {
        background-color: #ef5350;
    }

    .bg-success-300 {
        background-color: #81c784;
    }
    #PalletTable tr {
        cursor: pointer;
    }

    #PalletTable tbody tr:hover {
        background-color: #eeeeee;
    }

    #PalletTable tbody tr.selected {
        background-color: #eeeeee;
    }
</style>
<div class="layout-custom">
    <div class="row">
        <div class="col-md-4">
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default" style="min-height:252.8px;">
                        <div class="panel-heading">
                            <h5 class="panel-title">Delivery Note Details</h5>
                        </div>

                        <div class="panel-body">
                            <div class="form-group">
                                <label class="col-lg-7 control-label">Name:</label>
                                <div class="col-lg-5">
                                    <div class="form-control-static"><a class="text-semibold" id="DeliveryNoteLink" href="~">-</a></div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-7 control-label">Sales Order:</label>
                                <div class="col-lg-5">
                                    <div class="form-control-static"><a class="text-semibold" id="SalesOrderLink" href="~">-</a></div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-7 control-label">Customer:</label>
                                <div class="col-lg-5">
                                    <div class="form-control-static"><a class="text-semibold" id="CustomerLink" href="~">-</a></div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-7 control-label">Batch:</label>
                                <div class="col-lg-5">
                                    <div class="form-control-static"><strong id="SelectedBatch">-</strong></div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-7 control-label">Delivery Note Quantity:</label>
                                <div class="col-lg-5">
                                    <div class="form-control-static"><strong id="QuantityOrdered">-</strong></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default">
                        <div class="panel-heading d-flex justify-content-between">
                            <h5 class="panel-title" style="float:left;">Pallets</h5>
                            <button class="btn btn-primary btn-sm addPallet" style="float:right;">
                                <i class="visible-xs octicon octicon-plus"></i>
                                <span class="hidden-xs">Add Pallet</span>
                            </button>
                            <div style="clear:both;"></div>
                        </div>
                        <div class="table-responsive" id="PalletTable" style="padding: 0 20px 20px 20px;">
                            <table class="table text-nowrap" style="margin-top: 7px;">
                                <thead>
                                    <tr>
                                        <th class="col-md-2">Serial Number</th>
                                        <th class="col-md-2 text-center">Cases Scanned</th>
                                        <th class="col-md-2">
                                        </th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="row">
                <div class="col-md-12">
                    <div class="panel text-center panel-default">
                        <div class="panel-heading">
                            <div class="row text-left">
                                <span class="col-lg-7 panel-title" style=" font-weight: 500;">Selected Pallet:</span>
                                <div class="col-lg-5">
                                    <div id="SelectedPallet" class="panel-title bold text-right">
                                        NONE
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel-body panel-body-accent pb-15">
                            <div class="row">
                                <div class="col-xs-6">
                                    <div class="text-uppercase text-size-mini text-muted">Total Serial Numbers For Batch</div>
                                    <h5 id="TotalSerialNumbers" class="text-semibold no-margin">-</h5>
                                </div>

                                <div class="col-xs-6">
                                    <div class="text-uppercase text-size-mini text-muted">Total Items Scanned So Far</div>
                                    <h5 id="TotalItemsScannedForDelivery" class="text-semibold no-margin">-</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h5 class="panel-title">Scanned Cases</h5>
                        </div>
                        <div class="table-responsive" style="padding: 0 20px 20px 20px;">
                            <table class="table text-nowrap" id="ChildCaseTable" style="margin-top: 7px;">
                                <thead>
                                    <tr>
                                        <th class="col-md-6 text-left">Serial Number</th>
                                        <th class="col-md-6 text-right">Items in Case</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default" style="min-height:252.8px;">
                        <div class="panel-heading">
                            <h5 class="panel-title" style="display:inline-block;">Cases Scanned</h5>
                            <button class="btn btn-primary btn-sm manualScan" style="float:right; display:none;">
                                <i class="visible-xs octicon octicon-plus"></i>
                                <span class="hidden-xs">Manual Scan</span>
                            </button>
                            <div style="clear:both;"></div>
                        </div>
                        <div class="text-center text-semibold" id="CasesScanned" style="font-size: 75px; padding-top: 30px;">
                            <span>0</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default" style="min-height:252.8px;">
                        <div class="panel-heading">
                            <h5 class="panel-title">Total Items</h5>
                            <div class="heading-elements">
                            </div>
                        </div>
                        <div class="text-center text-semibold" id="TotalItemsScanned" style="font-size: 75px; padding-top: 30px;">
                            <span>0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $("#page-pallet_aggregation").show();

        $(".addPallet").click(function () {
            AddNewPallet();
        });

        $("#CasesScanned").codeScanner({
            maxEntryTime: 700,
            minEntryChars: 40,
            onScan: function (el, code) {
                if (code) {
                    ScanCode(code);
                }
            }
        });

        $(".manualScan").click(function () {
            ManualScanClick();
        });

        AddFinalizeButton();
    });
</script>
